<!DOCTYPE html>
<html lang="en">
<head>
	<title>I'm Learning D3</title>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<style>
		rect:hover{
		fill: red;
		}

        button {
			position: absolute;
			margin-left: 6px;
			margin-top: 6px;
		}
	</style>
</head>
<body>
    <button id="start">Transition</button>
    <button id="reset" style="margin-left: 82px">Reset</button>
    
    <script>
    //Make an SVG Container
	var svgContainer = d3.select("body").append("svg")
		.attr("width", 400)
		.attr("height", 200)
		.style("border-color", "black")
		.style("border-style", "solid")
		.style("border-width", "1px");
	 
	// Draw the Rectangle
	var rectangle = svgContainer.append("rect")
		.attr("x", 50)
		.attr("y", 50)
		.attr("width", 50)
        .attr("height", 50);

    /*
    d3.select("#start").on("click", function() {
		rectangle
			.transition()
            .attr("x", 250) // New Position
            .attr("y",100)
            .attr("width",100)
            .attr("height",100)
            .attr("fill","red")
            .duration(2500)
            .delay(100)
            .ease("easeElasticInOut");


    
    });
    */

    d3.select("#start").on("click", function() {
		rectangle
			.transition()
            .attr("x", 250)
            .attr("fill","yellow")
            .each("end",function() { // the first position
			    d3.select(this)
			    	.transition()         // a new transition!
                    .attr("y",125)
                    .attr("fill","red")
                    .each('end', function() {
                        d3.select(this)
                            .transition()         // a new transition!
                            .attr("x",300)
                            .attr("fill","steelblue")
                    });    // the second position
			});
	});
    
    d3.select("#reset").on("click", function() {
		rectangle
			.transition()
			.attr("x", 50); // New Position
	});
    </script>

</body>
</html>